{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="hero" id="home"
  {% if settings.hero_bg_image %}
    style="background-image:url('{{ settings.hero_bg_image.url }}'); --hero-darkness: {{ settings.hero_bg_darkness|default:0.55 }};"
  {% endif %}
  aria-label="Intro"
>
  <!-- network flow canvas (interactive) - sits above background and behind hero content -->
  <!-- use both id and class to keep selectors explicit and stable -->
  <canvas id="network-canvas" class="network-canvas" aria-hidden="true" tabindex="-1"></canvas>

  <!-- Parallax ambient blobs (decor layers) -->
  <span class="hero-layer blob blob-a" data-depth="8" aria-hidden="true"></span>
  <span class="hero-layer blob blob-b" data-depth="5" aria-hidden="true"></span>
  <span class="hero-layer blob blob-c" data-depth="3" aria-hidden="true"></span>
  <span class="hero-glare" aria-hidden="true"></span>

  <!-- We tilt this container -->
  <div class="container hero-wrap hero-tilt" data-tilt>
    <div class="hero-copy" data-depth="2">
      {% if settings.hero_kicker %}
        <span class="kicker" data-depth="3">{{ settings.hero_kicker }}</span>
      {% endif %}

      <div class="hero-title" data-depth="3">
        {% if settings.logo %}
          <img class="hero-logo" src="{{ settings.logo.url }}" alt="{{ settings.site_name }} logo" data-depth="4" />
        {% endif %}
        <h1 data-depth="3">{{ settings.hero_heading }}</h1>
      </div>

      {% if settings.hero_subheading %}
        <p class="hero-sub" data-depth="1.5">{{ settings.hero_subheading }}</p>
      {% endif %}
      <a href="{{ settings.hero_cta_url }}" class="btn" data-depth="2.5">{{ settings.hero_cta_text }}</a>
    </div>

    {% if settings.hero_side_image %}
      <div class="hero-visual" data-depth="4" aria-hidden="true">
        <img src="{{ settings.hero_side_image.url }}" alt="" />
      </div>
    {% endif %}
  </div>
</section>

<section id="services" class="section dark" aria-labelledby="services-title">
  <div class="container">
    <h2 id="services-title">What I do</h2>
    <div class="grid" role="list">
      {% for svc in services %}
      <div class="card" data-parallax="true" role="listitem" tabindex="0" aria-label="{{ svc.title }}">
        <span class="icon {{ svc.icon_class }}" aria-hidden="true"></span>
        <h3>{{ svc.title }}</h3>
        <p>{{ svc.description }}</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<section id="portfolio" class="section" aria-labelledby="portfolio-title">
  <div class="container">
    <h2 id="portfolio-title">Featured Projects</h2>
    <div class="grid portfolio-grid" role="list">
      {% for p in projects %}
      <a href="{% url 'project_detail' p.pk %}" class="project" role="listitem">
        <img src="{{ p.image.url }}" alt="{{ p.title }}" />
        <div class="overlay">
          <h3>{{ p.title }}</h3>
          {% if p.category %}<span>{{ p.category.name }}</span>{% endif %}
        </div>
      </a>
      {% endfor %}
    </div>
  </div>
</section>

<section id="about" class="section dark" aria-labelledby="about-title">
  <div class="container">
    <h2 id="about-title">{{ settings.about_title }}</h2>
    <div class="about-body">
      <p>{{ settings.about_summary|linebreaks }}</p>
      {% if settings.resume_file %}
        <a class="btn" href="{{ settings.resume_file.url }}" download>Download Résumé</a>
      {% endif %}
    </div>
  </div>
</section>

<section id="contact" class="section" aria-labelledby="contact-title">
  <div class="container">
    <div class="contact-wrap">
      <div class="contact-card glass" role="region" aria-labelledby="contact-title">
        <h2 id="contact-title">Contact</h2>
        {% include "includes/messages.html" %}
        <form method="post" class="contact-form" novalidate>
          {% csrf_token %}
          {{ form.as_p }}
          <button class="btn btn-primary" type="submit">Send</button>
        </form>
      </div>
    </div>
  </div>
</section>


   <link rel="stylesheet" href="{% static 'css/style.css' %}">
   <script src="{% static 'js/network.js' %}" defer></script>


{% endblock %}
